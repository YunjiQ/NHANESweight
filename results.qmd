# Results

## Longitudinal BMI Changes

In order to further know the weight health of the sample, we firstly use the BMI formula given by the CDC to calculate each person's current and previous BMI.

-   **Formula: weight (lb) / \[height (in)\]^2^ x 703**

```{r}
# get the bmi
whq <- read.csv("data/whq.csv")

whq$prev_bmi <- round((whq$previous_weight / (whq$current_height^2)) * 703, 2)
whq$curr_bmi <- round((whq$current_weight / (whq$current_height^2)) * 703, 2)

write.csv(whq, "data/whq.csv")
```

```{r}
library(ggplot2)

# nrow(whq) # 4503
# min(whq$age_heaviest_weight) # 12
# max(whq$age_heaviest_weight) # 99999
nrow(whq[whq$age_heaviest_weight > 80, ])
```

```{r}
whq <- whq %>% 
  filter(age_heaviest_weight < 100)

whq$age_group <- cut(whq$age_heaviest_weight,
                     breaks = c(10, 20, 30, 40, 50, 60, 70, 80),
                     labels = c("11-20", "21-30", "31-40", "41-50", "51-60", "61-70", "71-80"),
                     include.lowest = TRUE)

ggplot(whq, aes(y = age_group)) +
  geom_bar(fill = "blue", color = "black", alpha = 0.7) +
  labs(title = "Age Distribution",
       x = "Count",
       y = "Age Range") +
  theme_minimal()
```



